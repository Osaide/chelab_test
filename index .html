<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta name="referrer" content="no-referrer">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self';">
    <title>Chat Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            user-select: none;
        }
        
        .container {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .chat-wrapper {
            width: 100%;
            max-width: 800px;
            height: 90vh;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 15px 20px;
            text-align: center;
            font-weight: 600;
            font-size: 18px;
            position: relative;
        }
        
        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
        }
        
        .iframe-container {
            width: 100%;
            height: calc(100% - 60px);
            position: relative;
            overflow: hidden;
            background: #f8f9fa;
        }
        
        #chatFrame {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            background: white;
            transition: opacity 0.3s ease;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #666;
            z-index: 10;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        .error-message {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 20px;
            text-align: center;
        }
        
        .retry-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .retry-btn:hover {
            background: #2980b9;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .chat-wrapper {
                height: 95vh;
                border-radius: 8px;
            }
            
            .header {
                padding: 12px 15px;
                font-size: 16px;
            }
        }
        
        ::-webkit-scrollbar {
            display: none;
        }
        
        * {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="chat-wrapper">
            <div class="header">
                💬 Chat Assistant
            </div>
            <div class="iframe-container">
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Caricamento chat...</p>
                </div>
                <iframe id="chatFrame" style="display: none;" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
            </div>
        </div>
    </div>

    <script>
        // Ultra-obfuscated JavaScript - Multiple layers of protection
        (function(_0x4f8a) {
            'use strict';
            
            // Anti-tampering checksum
            var _0x2d1c = 0x1a2b3c4d;
            var _0x5e9f = function() { return _0x2d1c === 0x1a2b3c4d; };
            
            // Dynamic string generation
            var _0x7b2e = {
                'a': function(_0x1) { return String.fromCharCode(_0x1 + 0x20); },
                'b': function(_0x2) { return String.fromCharCode(_0x2 - 0x10); },
                'c': function(_0x3) { return String.fromCharCode(_0x3 ^ 0x5a); }
            };
            
            // Encrypted data chunks (XOR with rotating key)
            var _0x9c4f = [
                [0x68, 0x74, 0x74, 0x70, 0x73, 0x3a, 0x2f, 0x2f],
                [0x70, 0x72, 0x6f, 0x67, 0x65, 0x74, 0x74, 0x6f],
                [0x63, 0x68, 0x65, 0x6c, 0x61, 0x62, 0x31, 0x2e],
                [0x61, 0x70, 0x70, 0x2e, 0x6e, 0x38, 0x6e, 0x2e],
                [0x63, 0x6c, 0x6f, 0x75, 0x64, 0x2f, 0x77, 0x65],
                [0x62, 0x68, 0x6f, 0x6f, 0x6b, 0x2f, 0x34, 0x30],
                [0x39, 0x31, 0x66, 0x61, 0x30, 0x39, 0x2d, 0x66],
                [0x62, 0x39, 0x61, 0x2d, 0x34, 0x30, 0x33, 0x39],
                [0x2d, 0x39, 0x34, 0x31, 0x31, 0x2d, 0x37, 0x31],
                [0x30, 0x34, 0x64, 0x32, 0x31, 0x33, 0x66, 0x36],
                [0x30, 0x31, 0x2f, 0x63, 0x68, 0x61, 0x74]
            ];
            
            // XOR decryption with rotating key
            var _0x3a7d = function(_0x8e2b) {
                if (!_0x5e9f()) return null;
                var _0x6f1a = '';
                var _0x4c8e = [0x12, 0x34, 0x56, 0x78, 0x9a, 0xbc, 0xde, 0xf0];
                
                for (var _0x1b9c = 0; _0x1b9c < _0x8e2b.length; _0x1b9c++) {
                    for (var _0x7d4f = 0; _0x7d4f < _0x8e2b[_0x1b9c].length; _0x7d4f++) {
                        var _0x2e8a = _0x8e2b[_0x1b9c][_0x7d4f] ^ _0x4c8e[(_0x1b9c + _0x7d4f) % _0x4c8e.length];
                        _0x6f1a += String.fromCharCode(_0x2e8a);
                    }
                }
                return _0x6f1a;
            };
            
            // Polymorphic function generator
            var _0x8f3c = function() {
                var _0x5a2d = Math.random().toString(36).substring(2, 15);
                var _0x9b7e = Math.random().toString(36).substring(2, 15);
                return new Function(_0x5a2d, _0x9b7e, 
                    'return function ' + _0x5a2d + '() { return ' + _0x9b7e + '; };'
                )('_0x' + Math.random().toString(16).substring(2, 8), 'true');
            };
            
            // Anti-debug timing checks
            var _0x4e7b = function() {
                var _0x1f6a = performance.now();
                debugger;
                var _0x8c3d = performance.now();
                return (_0x8c3d - _0x1f6a) > 100;
            };
            
            // Dynamic element access
            var _0x6d9a = function(_0x2b5c) {
                var _0x7e4f = ['get', 'Element', 'By', 'Id'].join('');
                return document[_0x7e4f](_0x2b5c);
            };
            
            // Obfuscated main function
            var _0x1e8d = function() {
                if (_0x4e7b()) {
                    window.location.href = 'about:blank';
                    return;
                }
                
                var _0x9f2a = _0x8f3c();
                if (!_0x9f2a()) return;
                
                var _0x5c7b = _0x3a7d(_0x9c4f);
                if (!_0x5c7b) return;
                
                var _0x3e6d = _0x6d9a(['c', 'h', 'a', 't', 'F', 'r', 'a', 'm', 'e'].join(''));
                var _0x8a1f = _0x6d9a(['l', 'o', 'a', 'd', 'i', 'n', 'g'].join(''));
                
                if (!_0x3e6d || !_0x8a1f) return;
                
                // Anti-tampering check
                _0x2d1c = _0x2d1c ^ 0x12345678 ^ 0x12345678;
                
                var _0x7c4e = setTimeout(function() {
                    _0x2b9f();
                }, 10000);
                
                _0x3e6d.onload = function() {
                    clearTimeout(_0x7c4e);
                    setTimeout(function() {
                        try {
                            var _0x4d8a = _0x3e6d.contentDocument || _0x3e6d.contentWindow.document;
                            if (_0x4d8a && _0x4d8a.body && _0x4d8a.body.innerHTML.trim() !== '') {
                                _0x8a1f.style.display = 'none';
                                _0x3e6d.style.display = 'block';
                                _0x3e6d.classList.add('fade-in');
                                _0x6e2c();
                            } else {
                                _0x2b9f();
                            }
                        } catch(_0x9d7e) {
                            _0x8a1f.style.display = 'none';
                            _0x3e6d.style.display = 'block';
                            _0x3e6d.classList.add('fade-in');
                            _0x6e2c();
                        }
                    }, 1000);
                };
                
                _0x3e6d.onerror = function() {
                    clearTimeout(_0x7c4e);
                    _0x2b9f();
                };
                
                _0x3e6d.src = _0x5c7b;
            };
            
            // Error handler
            var _0x2b9f = function() {
                var _0x8a1f = _0x6d9a(['l', 'o', 'a', 'd', 'i', 'n', 'g'].join(''));
                if (_0x8a1f) {
                    _0x8a1f.innerHTML = '<div class="error-message"><p>⚠️ Impossibile caricare la chat</p><p style="font-size: 12px; margin-top: 5px;">Verifica la connessione internet</p><button class="retry-btn" onclick="' + _0x1e8d.name + '()">Riprova</button></div>';
                }
            };
            
            // Cleanup function
            var _0x6e2c = function() {
                console.clear();
                
                // Self-destruct sensitive variables
                _0x9c4f = null;
                _0x3a7d = null;
                _0x5c7b = null;
                
                if (history.replaceState) {
                    history.replaceState(null, 'Chat Demo', location.pathname);
                }
                
                // Overwrite function references
                setTimeout(function() {
                    _0x1e8d = function() { return false; };
                    _0x3a7d = function() { return null; };
                }, 2000);
            };
            
            // Anti-debug protections
            (function() {
                document.addEventListener('contextmenu', function(_0xe) {
                    _0xe.preventDefault();
                    return false;
                });
                
                document.addEventListener('keydown', function(_0xe) {
                    if (_0xe.keyCode === 123 || 
                        (_0xe.ctrlKey && _0xe.shiftKey && _0xe.keyCode === 73) ||
                        (_0xe.ctrlKey && _0xe.keyCode === 85) ||
                        (_0xe.ctrlKey && _0xe.keyCode === 83)) {
                        _0xe.preventDefault();
                        return false;
                    }
                });
                
                var _0xdevtools = false;
                setInterval(function() {
                    if (window.outerHeight - window.innerHeight > 200 || 
                        window.outerWidth - window.innerWidth > 200) {
                        if (!_0xdevtools) {
                            _0xdevtools = true;
                            console.clear();
                            window.location.href = 'about:blank';
                        }
                    } else {
                        _0xdevtools = false;
                    }
                }, 1000);
                
                setInterval(function() {
                    console.clear();
                    console.log('%cStop!', 'color: red; font-size: 50px; font-weight: bold;');
                    console.log('%cThis is a browser feature intended for developers. Do not enter or paste code here.', 'color: red; font-size: 16px;');
                }, 3000);
            })();
            
            // DOM protection
            Object.defineProperty(document, 'getElementById', {
                value: function(_0xid) {
                    if (_0xid === 'chatFrame') {
                        return null;
                    }
                    return Element.prototype.getElementById.call(this, _0xid);
                }
            });
            
            // Initialize with delay and integrity check
            setTimeout(function() {
                if (_0x5e9f() && !_0x4e7b()) {
                    _0x1e8d();
                }
            }, 1500);
            
        })(window);
    </script>
</body>
</html>

